# yaml-language-server: $schema=https://github.com/dongchengjie/meta-json-schema/releases/download/v1.19.11/meta-json-schema.json
proxy-providers-common: &proxy-providers-common
  type: http
  interval: 86400
  proxy: DIRECT
  size-limit: 0
  health-check:
    enable: true
    url: https://www.gstatic.com/generate_204
    interval: 300
    timeout: 5000
    lazy: true
    expected-status: 204
  exclude-filter: (?i)è·ç¦»ä¸‹æ¬¡é‡ç½®å‰©ä½™|å¥—é¤åˆ°æœŸ|å‰©ä½™æµé‡|å®˜ç½‘|GooglePlay|é˜²å¤±è”|ç‰¹æ®Šæ—¶æœŸ
proxy-providers:
  xxx:
    <<: *proxy-providers-common
    url: https://xxx.xxx/xxx
    override:
      additional-prefix: xxx

url-test-common: &url-test-common
  type: url-test
  include-all: true
  tolerance: 20
  interval: 150
select-url-test: &select-url-test
  type: select
  proxies: &select-proxies-url-test
    - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    - ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
    - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
    - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
    - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
    - ğŸ¯ å…¨çƒç›´è¿
proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    <<: *select-url-test
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ¯ å…¨çƒç›´è¿
  - name: ğŸˆâ€â¬› GitHub
    <<: *select-url-test
  - name: ğŸŸ docker
    <<: *select-url-test
  - name: ğŸ’¬ å³æ—¶é€šè®¯
    <<: *select-url-test
  - name: ğŸŒ ç¤¾äº¤åª’ä½“
    <<: *select-url-test
  - name: ğŸ§‘ğŸ»â€ğŸ’¼ LinkedIn
    <<: *select-url-test
  - name: ğŸ¤– ChatGPT
    <<: *select-url-test
  - name: ğŸ¤– Copilot
    <<: *select-url-test
  - name: ğŸ¤– AIæœåŠ¡
    <<: *select-url-test
  - name: ğŸ¶ TikTok
    <<: *select-url-test
  - name: ğŸ“¹ YouTube
    <<: *select-url-test
  - name: ğŸ¥ Netflix
    <<: *select-url-test
  - name: ğŸ¥ DisneyPlus
    <<: *select-url-test
  - name: ğŸ¥ HBO
    <<: *select-url-test
  - name: ğŸ¥ AppleTV+
    <<: *select-url-test
  - name: ğŸ¥ PrimeVideo
    <<: *select-url-test
  - name: ğŸ¥ Emby
    <<: *select-url-test
  - name: ğŸ» Spotify
    <<: *select-url-test
  - name: ğŸ“º Bahamut
    <<: *select-url-test
    proxies:
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ¯ å…¨çƒç›´è¿
  - name: ğŸ¶ ç½‘æ˜“éŸ³ä¹
    <<: *select-url-test
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - name: ğŸ“º å›½å†…åª’ä½“
    <<: *select-url-test
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
  - name: ğŸŒ å›½å¤–åª’ä½“
    <<: *select-url-test
  - name: ğŸ›’ å›½å¤–ç”µå•†
    <<: *select-url-test
  - name: ğŸ“¢ è°·æ­ŒFCM
    <<: *select-url-test
  - name: ğŸ‡¬ è°·æ­ŒæœåŠ¡
    <<: *select-url-test
  - name: ğŸ è‹¹æœæœåŠ¡
    <<: *select-url-test
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    <<: *select-url-test
  - name: ğŸ® æ¸¸æˆå¹³å°
    <<: *select-url-test
  - name: ğŸ® Steam
    <<: *select-url-test
  - name: ğŸš€ æµ‹é€Ÿå·¥å…·
    <<: *select-url-test
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    <<: *select-url-test
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    <<: *url-test-common
    filter: "(?i)æ¸¯|HK|hk|Hong Kong|HongKong|hongkong|æ·±æ¸¯"
  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
    <<: *url-test-common
    filter: "(?i)å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan"
  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    <<: *url-test-common
    filter: "(?i)æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|ğŸ‡¯ğŸ‡µ"
  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
    <<: *url-test-common
    filter: "(?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore"
  - name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
    <<: *url-test-common
    filter: "(?i)ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States|UnitedStates"
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    <<: *url-test-common
  - name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    include-all: true

rule-providers-http-common:
  text: &rule-providers-http-common-text
    type: http
    behavior: classical
    interval: 28800
    format: text
rule-providers:
  zerozawa.direct:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/lz37/clash_ruleset@main/rules/zerozawa.direct.list
  zerozawa.proxy:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/lz37/clash_ruleset@main/rules/zerozawa.proxy.list
  Direct:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Direct/Direct.list
  GoogleCNProxyIP:
    <<: *rule-providers-http-common-text
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleCNProxyIP.list
  Copilot:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Copilot/Copilot.list
  XiaoMi:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/XiaoMi/XiaoMi.list
  Emby:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Emby/Emby.list
  Emby 2:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/ddgksf2013/Filter@master/Emby.list
  ChinaMedia:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/ChinaMedia/ChinaMedia.list
  GlobalMedia:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GlobalMedia/GlobalMedia.list
  Amazon:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Amazon/Amazon.list
  AmazonIP:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/AmazonIP/AmazonIP.list
  Shopify:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Shopify/Shopify.list
  Download:
    <<: *rule-providers-http-common-text
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Download/Download.list
rules:
  - GEOSITE,private,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,private,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - RULE-SET,zerozawa.direct,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,zerozawa.proxy,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Direct,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,google-cn,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,GoogleCNProxyIP,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - GEOSITE,category-games@cn,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,category-game-accelerator-cn,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,category-public-tracker,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,category-communication,ğŸ’¬ å³æ—¶é€šè®¯
  - GEOSITE,category-social-media-!cn,ğŸŒ ç¤¾äº¤åª’ä½“
  - GEOSITE,openai,ğŸ¤– ChatGPT
  - RULE-SET,Copilot,ğŸ¤– Copilot
  - GEOSITE,anthropic,ğŸ¤– AIæœåŠ¡
  - GEOSITE,google-gemini,ğŸ¤– AIæœåŠ¡
  - GEOSITE,docker,ğŸŸ docker
  - GEOSITE,github,ğŸˆâ€â¬› GitHub
  - GEOSITE,linkedin@cn,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,linkedin,ğŸ§‘ğŸ»â€ğŸ’¼ LinkedIn
  - GEOSITE,category-speedtest,ğŸš€ æµ‹é€Ÿå·¥å…·
  - GEOSITE,youtube,ğŸ“¹ YouTube
  - GEOSITE,apple-tvplus,ğŸ¥ AppleTV+
  - GEOSITE,apple,ğŸ è‹¹æœæœåŠ¡
  - GEOSITE,microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,XiaoMi,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,googlefcm,ğŸ“¢ è°·æ­ŒFCM
  - GEOSITE,google,ğŸ‡¬ è°·æ­ŒæœåŠ¡
  - GEOSITE,tiktok,ğŸ¶ TikTok
  - GEOSITE,netflix,ğŸ¥ Netflix
  - GEOSITE,disney,ğŸ¥ DisneyPlus
  - GEOSITE,hbo,ğŸ¥ HBO
  - GEOSITE,primevideo,ğŸ¥ PrimeVideo
  - RULE-SET,Emby,ğŸ¥ Emby
  - RULE-SET,Emby 2,ğŸ¥ Emby
  - GEOSITE,spotify,ğŸ» Spotify
  - GEOSITE,bahamut,ğŸ“º Bahamut
  - RULE-SET,ChinaMedia,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,GlobalMedia,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,Amazon,ğŸ›’ å›½å¤–ç”µå•†
  - RULE-SET,AmazonIP,ğŸ›’ å›½å¤–ç”µå•†
  - GEOSITE,shopee,ğŸ›’ å›½å¤–ç”µå•†
  - RULE-SET,Shopify,ğŸ›’ å›½å¤–ç”µå•†
  - GEOSITE,ozon,ğŸ›’ å›½å¤–ç”µå•†
  - GEOSITE,category-entertainment,ğŸŒ å›½å¤–åª’ä½“
  - GEOSITE,category-ecommerce,ğŸ›’ å›½å¤–ç”µå•†
  - GEOSITE,gfw,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - GEOIP,telegram,ğŸ’¬ å³æ—¶é€šè®¯,no-resolve
  - GEOIP,twitter,ğŸŒ ç¤¾äº¤åª’ä½“,no-resolve
  - GEOIP,facebook,ğŸŒ ç¤¾äº¤åª’ä½“,no-resolve
  - GEOIP,google,ğŸ‡¬ è°·æ­ŒæœåŠ¡,no-resolve
  - GEOIP,netflix,ğŸ¥ Netflix,no-resolve
  - GEOSITE,steam,ğŸ® Steam
  - GEOSITE,category-games,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,Download,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,cn,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,cn,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: error
redir-port: 7892
tproxy-port: 7895
mixed-port: 7893
external-controller: 127.0.0.1:9090
external-controller-cors:
  allow-private-network: true
bind-address: "*"
keep-alive-interval: 15
keep-alive-idle: 600
ipv6: true
geodata-mode: true
geo-auto-update: true
geo-update-interval: 24
geodata-loader: standard
geox-url:
  geoip: https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat
  geosite: https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat
  mmdb: https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb
  asn: https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb
tcp-concurrent: true
unified-delay: true
find-process-mode: strict
global-client-fingerprint: random
profile:
  store-selected: true
  store-fake-ip: true
dns:
  enable: true
  ipv6: true
  listen: 0.0.0.0:7874
  prefer-h3: true
  respect-rules: true
  use-hosts: true
  nameserver-policy:
    +.zerozawa.top:
      - 119.29.29.29
      - 119.28.28.28
      - "2402:4e00::"
    +.wanghua.link:
      - 223.5.5.5
      - 223.6.6.6
      - 2400:3200::1
      - 2400:3200:baba::1
    +.zfqqjb.top:
      - 122.112.208.1
      - 139.9.23.9
      - 114.115.192.1
      - 116.205.5.1
    geosite:cn,apple-cn,category-games@cn,private,atlassian:
      - 218.2.2.2
      - 218.4.4.4
      - 240e:5b::6666
      - 240e:5a::6666
      - 1.2.4.8
      - 210.2.4.8
      - https://doh-pure.onedns.net/dns-query
      - https://doh.360.cn/dns-query
      - 180.184.1.1
      - 180.184.2.2
  nameserver:
    - https://1.1.1.1/dns-query
    - https://dns.cloudflare.com/dns-query
    - https://8.8.8.8/dns-query
    - https://dns.google/dns-query
    - https://doh.opendns.com/dns-query
    - https://dns.quad9.net/dns-query
    - https://dns.twnic.tw/dns-query
    - https://public.dns.iij.jp/dns-query
    - https://jp.tiarap.org/dns-query
    - https://doh.dnslify.com/dns-query
    - https://dns.oszx.co/dns-query
    - https://doh.applied-privacy.net/query
    - https://dnsforge.de/dns-query
    - https://doh.ffmuc.net/dns-query
    - https://doh.mullvad.net/dns-query
  default-nameserver:
    - 1.2.4.8
    - 119.29.29.29
    - 223.5.5.5
  proxy-server-nameserver:
    - 1.2.4.8
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
sniffer:
  enable: true
  override-destination: true
  sniff:
    QUIC:
      ports:
        - 443
        - 8443
    TLS:
      ports:
        - 443
        - 8443
    HTTP:
      ports:
        - 80
        - 8080-8888
      override-destination: true
  skip-domain:
    - Mijia Cloud
    - dlg.io.mi.com
    - +.push.apple.com
    - +.v2ex.com
  force-dns-mapping: true
  parse-pure-ip: true
  force-domain:
    - geosite:github
tun:
  stack: mixed
  auto-route: true
  auto-detect-interface: true
  gso: true
  strict-route: false
  endpoint-independent-nat: false
  udp-timeout: 300
  route-exclude-address: [172.22.0.0/16]
  dns-hijack:
    - any:53
    - tcp://any:53
